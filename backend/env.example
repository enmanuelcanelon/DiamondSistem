# ============================================
# DIAMONDSISTEM - VARIABLES DE ENTORNO
# Copiar este archivo a .env y configurar
# ============================================

# ============================================
# SERVIDOR
# ============================================
PORT=5000
NODE_ENV=development

# Configuración de la aplicación
APP_NAME=DiamondSistem
APP_VERSION=3.2.0

# ============================================
# BASE DE DATOS POSTGRESQL
# ============================================
# DESARROLLO (Local):
DATABASE_URL="postgresql://postgres:root@localhost:5432/diamondsistem?schema=public&connection_limit=10&pool_timeout=20"

# PRODUCCIÓN (Railway):
# Railway genera automáticamente DATABASE_URL cuando creas el servicio PostgreSQL
# No necesitas configurarlo manualmente, Railway lo inyecta como: ${{Postgres.DATABASE_URL}}
# Ejemplo: postgresql://postgres:password@server.railway.app:5432/railway?connection_limit=10&pool_timeout=20

# ============================================
# AUTENTICACIÓN JWT
# ============================================
# Access Token (corta duración - 15 minutos recomendado en producción)
JWT_SECRET=CAMBIAR_ESTO_POR_UN_SECRETO_MUY_SEGURO_DE_AL_MENOS_32_CARACTERES
JWT_EXPIRES_IN=15m

# Refresh Token (larga duración - 7 días)
JWT_REFRESH_SECRET=CAMBIAR_ESTO_POR_OTRO_SECRETO_DIFERENTE_TAMBIEN_MUY_SEGURO
JWT_REFRESH_EXPIRES_IN=7d

# Bcrypt Salt Rounds
BCRYPT_SALT_ROUNDS=10

# ============================================
# CORS Y FRONTEND
# ============================================
# DESARROLLO (URLs locales separadas por coma, SIN ESPACIOS):
CORS_ORIGINS=http://localhost:5173,http://localhost:5174,http://localhost:5175,http://localhost:5176,http://localhost:5177

# PRODUCCIÓN (URLs de Vercel - ejemplo):
# CORS_ORIGINS=https://vendedor.tudominio.com,https://cliente.tudominio.com,https://manager.tudominio.com,https://gerente.tudominio.com,https://inventario.tudominio.com

# URL principal del frontend vendedor (para redirecciones)
FRONTEND_URL=http://localhost:5173

# ============================================
# SEGURIDAD - ENCRIPTACIÓN
# ============================================
# Clave de encriptación para tokens OAuth de Google Calendar (OBLIGATORIO en producción)
# Generar con: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# Debe tener exactamente 64 caracteres hexadecimales (32 bytes)
ENCRYPTION_KEY=GENERAR_CON_COMANDO_ARRIBA_64_CARACTERES_HEX

# ============================================
# LOGGING
# ============================================
# Niveles: error, warn, info, http, verbose, debug, silly
LOG_LEVEL=info

# ============================================
# GOOGLE CALENDAR OAUTH (OPCIONAL)
# ============================================
# Solo necesario si usas sincronización con Google Calendar
# Ver instrucciones en GOOGLE_CALENDAR_SETUP.md
GOOGLE_OAUTH_CLIENT_ID=tu-client-id.apps.googleusercontent.com
GOOGLE_OAUTH_CLIENT_SECRET=tu-client-secret
GOOGLE_OAUTH_REDIRECT_URI=http://localhost:5000/api/google-calendar/auth/callback

# ID del calendario compartido para citas de leads
GOOGLE_CALENDAR_CITAS_ID=tu-calendario-id@group.calendar.google.com

# ============================================
# EMAIL (NODEMAILER) - OPCIONAL PERO RECOMENDADO
# ============================================
# Configuración de servidor SMTP para envío de emails
# Ejemplo con Gmail (requiere "App Password" si tienes 2FA)
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=tu-email@gmail.com
EMAIL_PASSWORD=tu-app-password-de-gmail

# Remitente por defecto
EMAIL_FROM="DiamondSistem <noreply@diamondsistem.com>"

# ============================================
# NOTAS IMPORTANTES PARA RAILWAY
# ============================================
# 1. DATABASE_URL: No lo configures manualmente en Railway, usa ${{Postgres.DATABASE_URL}}
# 2. JWT_SECRET y JWT_REFRESH_SECRET: Genera secretos únicos y seguros para producción
# 3. ENCRYPTION_KEY: Obligatorio en producción, genera con el comando indicado arriba
# 4. CORS_ORIGINS: Actualiza con las URLs reales de tus frontends en Vercel
# 5. NODE_ENV: Cambia a "production" en Railway
# 6. LOG_LEVEL: Usa "info" o "warn" en producción para reducir ruido









